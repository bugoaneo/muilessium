// @name Checkbox
// @description Checkbox component
//
// @lvar checkbox-border-color        - grey
// @lvar checkbox-border-color__focus - primary-color
// @lvar checkbox-icon-color          - grey
// @lvar checkbox-icon-color__focus   - primary-color
// @lvar checkbox-bgcolor             - white
// @lvar checkbox-height              - global-ui-height
// @lvar checkbox-border-radius       - global-border-radius
// @lvar checkbox-border-width        - global-border-width
//
// @see toggle-checkbox
//
// @markup
//      <div class="mui-checkbox">
//          <input id="checkbox-5hdz" type="checkbox" checked>
//          <label for="checkbox-5hdz" tabindex="1">
//              <span class="icon"><i class="fa fa-check"></i></span>
//              <span class="text">Lorem ipsum.</span>
//          </label>
//      </div>


@checkbox-border-color:        @grey;
@checkbox-border-color__focus: @primary-color;
@checkbox-icon-color:          @grey;
@checkbox-icon-color__focus:   @primary-color;
@checkbox-bgcolor:             @white;
@checkbox-height:              @global-ui-height;
@checkbox-border-radius:       @global-border-radius;
@checkbox-border-width:        @global-border-width;


// @name Toggle checkbox
// @description Checkbox component (Toggle variation)
//
// @lvar toggle-checkbox-height                  - global-ui-height
// @lvar toggle-checkbox-bgcolor                 - white
// @lvar toggle-checkbox-bgcolor__checked        - white
// @lvar toggle-checkbox-toggle-color            - white
// @lvar toggle-checkbox-toggle-bgcolor          - grey
// @lvar toggle-checkbox-toggle-color__checked   - white
// @lvar toggle-checkbox-toggle-bgcolor__checked - primary-color
// @lvar toggle-checkbox-border-color            - grey
// @lvar toggle-checkbox-border-color__focus     - primary-color
// @lvar toggle-checkbox-border-radius           - global-border-radius
// @lvar toggle-checkbox-border-width            - global-border-width
// @lvar toggle-checkbox-animation-duration      - 300ms
// @lvar toggle-checkbox-animation-function      - cubic-bezier(.85, .11, .46, .98)
//
// @see checkbox
//
// @markup
//      <div class="mui-checkbox -toggle">
//          <input id="checkbox-26jc" type="checkbox" checked>
//          <label for="checkbox-26jc" tabindex="1">
//              <span class="icon"></span>
//              <span class="text">Lorem ipsum.</span>
//          </label>
//      </div>


@toggle-checkbox-height:                  @global-ui-height;
@toggle-checkbox-bgcolor:                 @white;
@toggle-checkbox-bgcolor__checked:        @white;
@toggle-checkbox-toggle-color:            @white;
@toggle-checkbox-toggle-bgcolor:          @grey;
@toggle-checkbox-toggle-color__checked:   @white;
@toggle-checkbox-toggle-bgcolor__checked: @primary-color;
@toggle-checkbox-border-color:            @grey;
@toggle-checkbox-border-color__focus:     @primary-color;
@toggle-checkbox-border-radius:           @global-border-radius;
@toggle-checkbox-border-width:            @global-border-width;
@toggle-checkbox-animation-duration:      300ms;
@toggle-checkbox-animation-function:      cubic-bezier(.85, .11, .46, .98);


.@{muilessium-prefix}checkbox {
    user-select: none;
    
    > input[type=checkbox] {
        display: none;
    }
    
    > label {
        display: inline-block;
        
        &:hover,
        &:focus {
            cursor: pointer;
            outline: none;
            
            > .icon {
                border-color: @checkbox-border-color__focus;
                
                > .fa {
                    color: @checkbox-icon-color__focus;
                }
            }
        }
    }
    
    > label > .icon {
        display: inline-block;
        position: relative;
        vertical-align: middle;
        
        height: @checkbox-height;
        width: @checkbox-height;
        
        background: @checkbox-bgcolor;
        border: @checkbox-border-width solid @checkbox-border-color;
        
        border-radius: @checkbox-border-radius;
        
        > .fa {
            content: '';
            
            display: block;
            #utils > .absolute-center;
            
            height: 0;
            width: 0;
            
            font-size: 0;
            text-align: center;
            
            color: @checkbox-icon-color;
            
            opacity: 0;
            
            #utils > .transition-all;
        }
    }
    
    > input[type=checkbox]:checked + label > .icon {
        > .fa {
            height: @checkbox-height * .8;
            width: @checkbox-height * .8;
            
            font-size: @checkbox-height * .8;
            
            opacity: 1;
        }
    }
    
    > label > .text {
        padding: 0 1rem;
    }
    
    &.-toggle {
        > label > .icon {
            background: @toggle-checkbox-bgcolor;
            width: @toggle-checkbox-height * 2;
            overflow: hidden;
            
            #utils > .transition-all;
            
            &:before,
            &:after {
                display: block;
                position: absolute;
                top: -@toggle-checkbox-border-width;
                left: 0;
                
                height: @toggle-checkbox-height;
                width: @toggle-checkbox-height;
                
                font-family: @sans-serif-font-family;
                line-height: @toggle-checkbox-height;
                font-size: @toggle-checkbox-height * .4;
                text-align: center;
                text-transform: uppercase;

                background: @toggle-checkbox-toggle-bgcolor;
                color: @toggle-checkbox-toggle-color;
                
                border-radius: @checkbox-border-radius;
                
                transition: all @toggle-checkbox-animation-duration @toggle-checkbox-animation-function;
            }
            
            &:before {
                content: 'off';
            }
            
            &:after {
                content: 'on';
                opacity: 0;
            }
        }
        
        > input[type=checkbox]:checked + label > .icon {
            background: @toggle-checkbox-bgcolor__checked;
            
            &:before,
            &:after {
                left: ~'calc(100% - ' @checkbox-height ~')';

                background: @toggle-checkbox-toggle-bgcolor__checked;
                color: @toggle-checkbox-toggle-color__checked;
            }
            
            &:after {
                opacity: 1;
            }
        }
    }
}
