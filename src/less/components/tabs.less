// @name Tabs
// @description Tabs component
//
// @lvar tabs-color              - black
// @lvar tabs-bgcolor            - white
// @lvar tabs-color__focus       - white
// @lvar tabs-color__current     - black
// @lvar tabs-bgcolor__focus     - primary-color
// @lvar tabs-bgcolor__current   - white
// @lvar tabs-border-color       - lighten(grey, 30%)
// @lvar tabs-label-height       - global-ui-height
// @lvar tabs-border-width       - global-border-width
// @lvar tabs-border-radius      - global-border-radius
// @lvar tabs-animation-duration - 600ms
// @lvar tabs-animation-function - cubic-bezier(.85, .11, .46, .98)
//
// @markup
//      <div class="mui-tabs">
//          <input type="radio" name="tab" id="tab-8c64" checked>
//          <input type="radio" name="tab" id="tab-r2tw">
//          <input type="radio" name="tab" id="tab-croc">
//          <div class="labels">
//              <label for="tab-8c64">Tab 1 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Soluta, rerum?</label>
//              <label for="tab-r2tw">Tab 2 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolor, repellat!</label>
//              <label for="tab-croc">Tab 3</label>
//          </div>
//          <ul class="tabs">
//              <li class="tab">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam, iste ipsa, deleniti perferendis nam commodi et odit, voluptates illum accusamus, nesciunt voluptatem id aliquid tempora. Quas at blanditiis expedita, placeat!</li>
//              <li class="tab">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad voluptas dolor a nam delectus est suscipit? Officiis, similique eos blanditiis debitis nisi placeat ad error perferendis vero omnis quae sit delectus quos et? Magnam eum ullam commodi debitis, numquam libero!</li>
//              <li class="tab">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ullam et minus explicabo consectetur reprehenderit dolor dolorem quaerat necessitatibus optio aut, quas cum ex eveniet, quidem. Sunt ad eligendi numquam cupiditate asperiores quod, aspernatur delectus labore est? Nisi sapiente, doloremque cupiditate vel eos numquam aliquam possimus? Ex officia debitis facere recusandae, reiciendis ullam praesentium ratione dolor eveniet nesciunt natus tempora, blanditiis obcaecati at impedit cupiditate adipisci corporis. Blanditiis nam facere impedit necessitatibus, assumenda quis. Eveniet veniam odio ducimus, debitis reprehenderit? Quasi, perferendis culpa magni deleniti dolorum sit voluptatem fugiat distinctio odio ipsa nemo qui, beatae aperiam! A harum tempora cupiditate consectetur.</li>
//          </ul>
//      </div>


@tabs-color:              @black;
@tabs-bgcolor:            @white;
@tabs-color__focus:       @white;
@tabs-color__current:     @black;
@tabs-bgcolor__focus:     @primary-color;
@tabs-bgcolor__current:   @white;
@tabs-border-color:       lighten(@grey, 30%);
@tabs-label-height:       @global-ui-height;
@tabs-border-width:       @global-border-width;
@tabs-border-radius:      @global-border-radius;
@tabs-animation-duration: 600ms;
@tabs-animation-function: cubic-bezier(.85, .11, .46, .98);


.@{muilessium-prefix}tabs {
    > input {
        display: none;
    }
    
    > input:nth-of-type(1):checked ~ .tabs > .tab:nth-of-type(1) { opacity: 1; transform: rotateX(0); }
    > input:nth-of-type(2):checked ~ .tabs > .tab:nth-of-type(2) { opacity: 1; transform: rotateX(0); }
    > input:nth-of-type(3):checked ~ .tabs > .tab:nth-of-type(3) { opacity: 1; transform: rotateX(0); }
    
    > input:nth-of-type(1):checked ~ .labels > label:nth-of-type(1) {
        color: @tabs-color__current;
        background: @tabs-bgcolor__current;
        border-bottom-color: @tabs-bgcolor__current;
    }
    
    > input:nth-of-type(2):checked ~ .labels > label:nth-of-type(2) {
        color: @tabs-color__current;
        background: @tabs-bgcolor__current;
        border-bottom-color: @tabs-bgcolor__current;
    }
    
    > input:nth-of-type(3):checked ~ .labels > label:nth-of-type(3) {
        color: @tabs-color__current;
        background: @tabs-bgcolor__current;
        border-bottom-color: @tabs-bgcolor__current;
    }

    > .labels {
        display: table; // using table because flex works very bad with truncate
        width: 100%;
        table-layout: fixed;
        margin-right: -.5px; // hack for 1px bug in Chrome
    }
    
    > .labels > label {
        display: table-cell;
        width: 1px;
        
        padding: 0 1rem;
        
        text-align: center;
        line-height: @tabs-label-height;
        
        color: @tabs-color;
        background: @tabs-bgcolor;
        
        border: solid @tabs-border-width @tabs-border-color;
        border-top-left-radius: @tabs-border-radius;
        border-top-right-radius: @tabs-border-radius;
        
        #utils > .transition-all;
        &:extend(._truncate-line);

        
        &:not(:first-of-type) {
            border-left: none;
        }
        
        &:hover,
        &:focus {
            cursor: pointer;
            color: @tabs-color__focus;
            background: @tabs-bgcolor__focus;
        }
    }
    
    > .tabs {
        margin: 0;
        
        list-style: none;
        
        border: solid @tabs-border-width @tabs-border-color;
        border-top: none;
        border-bottom-left-radius: @tabs-border-radius;
        border-bottom-right-radius: @tabs-border-radius;
        
        #utils > .clearfix;
    }
    
    > .tabs > .tab {
        display: block;
        float: left;
        
        width: 100%;
        
        padding: 1rem;
        
        color: @tabs-color;
        background: @tabs-bgcolor;
        opacity: 0;
        
        transform: rotateX(90deg);
        
        transition: all @tabs-animation-duration @tabs-animation-function;
        
        &:not(:first-of-type) {
            margin-left: -100%;
        }
    }
}
